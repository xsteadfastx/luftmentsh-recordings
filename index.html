<!DOCTYPE html>
<html>
<head>
	<title>Jerusalem Recordings</title>
	<meta charset="utf-8" />

	<meta name="viewport" content="width=device-width, initial-scale=1.0">

	<script src="http://jqueryjs.googlecode.com/files/jquery-1.2.6.min.js" type="text/javascript"></script>
	<script src="./popup.js" type="text/javascript"></script>
	<script src="./geojson.js" type="text/javascript"></script>
	<link href='http://fonts.googleapis.com/css?family=Londrina+Sketch' rel='stylesheet' type='text/css'>
	<link rel="stylesheet" href="./leaflet.css" />
	<link rel="stylesheet" href="./main.css" />
	<!--[if lte IE 8]><link rel="stylesheet" href="../dist/leaflet.ie.css" /><![endif]-->
</head>
<body>
	<a href="http://github.com/xsteadfastx"><img style="position: absolute; top: 0; right: 0; border: 0; z-index: 1;" src="https://a248.e.akamai.net/assets.github.com/img/4c7dc970b89fd04b81c8e221ba88ff99a06c6b61/687474703a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f77686974655f6666666666662e706e67" alt="Fork me on GitHub"></a>

	<div id="desc">Jerusalem Recordings</div>

	<div id="popupContact">
		<a id="popupContactClose">x</a>
		<h1>Jerusalem Recordings</h1>
		<p id="contactArea">
			<img src="./images/Jerusalem.png">
			<br/><br/>
			Here we have a simple but interesting sample of our new stuning and smooth popup. As you can see jQuery and CSS does it easy...
			<br/><br/>
			We can use it for popup-forms and more... just experiment!
			<br/><br/>
			Press ESCAPE, Click on X (right-top) or Click Out from the popup to close the popup!
		</p>
	</div>
	<div id="backgroundPopup"></div>	


	<div id="map"></div>

	<script src="./leaflet.js"></script>
	<script type="text/javascript" src="./tile.stamen.js"></script>
	<script>
		var layer = new L.StamenTileLayer("watercolor");
		var map = new L.Map('map');

		var cloudmadeUrl = 'http://{s}.tile.cloudmade.com/BC9A493B41014CAABB98F0471D759707/997/256/{z}/{x}/{y}.png',
			cloudmadeAttribution = 'Map data &copy; 2011 OpenStreetMap contributors, Imagery &copy; 2011 CloudMade',
			cloudmade = new L.TileLayer(cloudmadeUrl, {maxZoom: 18, attribution: cloudmadeAttribution});

		map.setView(new L.LatLng(31.777, 35.225), 16).addLayer(layer);

		var geojsonLayer = new L.GeoJSON(null, {
		    pointToLayer: function (latlng){
		        return new L.CircleMarker(latlng, {
		            radius: 8,
		            fillColor: "#3366CC",
		            color: "#000",
		            weight: 2,
		            opacity: 1,
		            fillOpacity: 0.5
		        });
		    }
		});

		map.addLayer(geojsonLayer);

		geojsonLayer.on("featureparse", function (e) {
   			if (e.properties && e.properties.popupContent){
        			e.layer.bindPopup(e.properties.popupContent);
    			}
			
		});

		geojsonLayer.on("featureparse", function (e){
    			if (e.properties && e.properties.style && e.layer.setStyle){
        			// The setStyle method isn't available for Points. More on that below ...
        			e.layer.setStyle(e.properties.style);
    			}
		});

		geojsonLayer.addGeoJSON(AsianChoir);
		geojsonLayer.addGeoJSON(BarMitzvah);
		geojsonLayer.addGeoJSON(CafeRimon);
		geojsonLayer.addGeoJSON(DrummersGoldenMenorah);
		geojsonLayer.addGeoJSON(GardenTomb);
		geojsonLayer.addGeoJSON(HaKotel);
		geojsonLayer.addGeoJSON(HolySepulchre);
		geojsonLayer.addGeoJSON(MehaneYehuda);
		geojsonLayer.addGeoJSON(JaffaToJewish);
		geojsonLayer.addGeoJSON(BenYehudaStreet);
		geojsonLayer.addGeoJSON(JohanniterToDamascus);
		geojsonLayer.addGeoJSON(JewishToGoldenMenorah);
			
	</script>
</body>
</html>
