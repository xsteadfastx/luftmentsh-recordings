<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Jerusalem Recordings</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="./bootstrap/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 0px; /* 60px to make the container go all the way to the bottom of the topbar */
      }
    </style>
    <link href="./bootstrap/css/bootstrap-responsive.css" rel="stylesheet">
    <link rel="stylesheet" href="./css/leaflet.css" />
    <link rel="stylesheet" href="./css/main.css" />

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le JS -->
    <script src="./js/geojson.js" type="text/javascript"></script>

  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="#">Jerusalem Recordings</a>
          <div class="nav-collapse">
            <ul class="nav">
              <li class="active"><a href="#">Map</a></li>
              <li><a data-toggle="modal" href="#About">About</a></li>
              <li><a href="#contact">Contact</a></li>
              <li><a data-toggle="modal" href="#License">License</a></li>
              <li><a href="http://github.com/xsteadfastx">Github</a></li>
            </ul>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>

    <!-- About Model -->
    <div class="modal hide" id="About">
      <div class="modal-header">
        <a class="close" data-dismiss="modal">×</a>
        <h3>About</h3>
      </div>
      <div class="modal-body">
        <p><center><img src="./images/Jerusalem.png"></center></p>
        <p>Seitdem ich das erste mal in Israel 2007 war beschloss ich mindestens einmal pro Jahr in das heilige Land zu fliegen. Das schönste in ganz Israel ist für mich immer die Stadt Jerusalem gewesen. Ich liebe ihre Athmosphere, Menschen und Straßen. Jedes Jahr genieße ich meine Tage dort. Das letzte mal war ich im Januar 2011 dort. Gemeinsam mit meiner jetzigen Frau. Wir hatten die Idee mit unserem Aufnahmegerät Stimmungen rund um die Stadt einzufangen. Das zu dokumentieren was uns kostbar wurde.</p>
        <p>Als wir wieder in Deutschland waren bereiteten wir die Hochzeit vor und die Aufnahmen verstaubten auf meiner Festplatte. Sie waren für uns auch zu besonders um sie einfach so irgendwo hochzuladen. Sie sollten einen passenden Rahmen bekommen. Schließlich bedeuten sie uns eine Menge. Wir verbinden die Aufnahmen mit dieser besonderen Zeit. Und das Projekt ist auch noch nicht zu Ende. Es war auch nicht das letzte mal das wir in Jerusalem waren. Wir wollen mehr Aufnahmen machen...mehr Punkte und Strecken auf der Karte erscheinen lassen.</p>
        <p>Vielleicht finden ja auch andere Menschen gefallen an diesen Aufnahmen...</p>
      </div>
      <div class="modal-footer">
        <a href="#" class="btn" data-dismiss="modal">Close</a>
      </div>
    </div>
 
    <!-- License Model -->
    <div class="modal hide" id="License">
      <div class="modal-header">
        <a class="close" data-dismiss="modal">×</a>
        <h3>License</h3>
      </div>
      <div class="modal-body">
        <p><center><a rel="license" href="http://creativecommons.org/licenses/by/3.0/"><img src="./images/cc.png"></a></center></p>
        <p><center>Dieses Werk bzw. Inhalt steht unter einer <a rel="license" href="http://creativecommons.org/licenses/by/3.0/">Creative Commons Namensnennung 3.0 Unported Lizenz</a>.</center></p>
      </div>
      <div class="modal-footer">
        <a href="#" class="btn" data-dismiss="modal">Close</a>
      </div>
    </div>

      <div id="map"></div>

        <script src="./js/leaflet.js"></script>
        <script type="text/javascript" src="http://maps.stamen.com/js/tile.stamen.js"></script>
        <script>
                var layer = new L.StamenTileLayer("watercolor");
                var map = new L.Map('map');

                var cloudmadeUrl = 'http://{s}.tile.cloudmade.com/BC9A493B41014CAABB98F0471D759707/997/256/{z}/{x}/{y}.png',
                        cloudmadeAttribution = 'Map data &copy; 2011 OpenStreetMap contributors, Imagery &copy; 2011 CloudMade',
                        cloudmade = new L.TileLayer(cloudmadeUrl, {maxZoom: 18, attribution: cloudmadeAttribution});

                map.setView(new L.LatLng(31.777, 35.225), 16).addLayer(layer);

                var geojsonLayer = new L.GeoJSON(null, {
                    pointToLayer: function (latlng){
                        return new L.CircleMarker(latlng, {
                            radius: 8,
                            fillColor: "#3366CC",
                            color: "#3366CC",
                            weight: 2,
                            opacity: 0.9,
                            fillOpacity: 0.9 
                        });
                    }
                });

                map.addLayer(geojsonLayer);

                geojsonLayer.on("featureparse", function (e) {
                        if (e.properties && e.properties.popupContent){
                                e.layer.bindPopup(e.properties.popupContent, {maxWidth: 600});
                        }
                        
                });

                geojsonLayer.on("featureparse", function (e){
                        if (e.properties && e.properties.style && e.layer.setStyle){
                                // The setStyle method isn't available for Points. More on that below ...
                                e.layer.setStyle(e.properties.style);
                        }
                });


                geojsonLayer.addGeoJSON(JewishToGoldenMenorah);
                geojsonLayer.addGeoJSON(BenYehudaStreet);
                geojsonLayer.addGeoJSON(AsianChoir);
                geojsonLayer.addGeoJSON(BarMitzvah);
                geojsonLayer.addGeoJSON(CafeRimon);
                geojsonLayer.addGeoJSON(DrummersGoldenMenorah);
                geojsonLayer.addGeoJSON(GardenTomb);
                geojsonLayer.addGeoJSON(HaKotel);
                geojsonLayer.addGeoJSON(HolySepulchre);
                geojsonLayer.addGeoJSON(MehaneYehuda);
                geojsonLayer.addGeoJSON(JaffaToJewish);
                geojsonLayer.addGeoJSON(JohanniterToDamascus);
                        
        </script>

    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="./js/jquery.js"></script>
    <script src="./js/bootstrap-modal.js"></script>
  </body>
</html>
