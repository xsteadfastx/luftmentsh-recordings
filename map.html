<!DOCTYPE html>
<html>
<head>
	<title>Jerusalem Recordings</title>
	<meta charset="utf-8" />

	<meta name="viewport" content="width=device-width, initial-scale=1.0">

	<link rel="stylesheet" href="./leaflet.css" />
	<!--[if lte IE 8]><link rel="stylesheet" href="../dist/leaflet.ie.css" /><![endif]-->
</head>
<body>
	<div id="map"></div>

	<script src="./leaflet.js"></script>
	<script type="text/javascript" src="./tile.stamen.js"></script>
	<script>
		var layer = new L.StamenTileLayer("watercolor");
		var map = new L.Map('map');

		var cloudmadeUrl = 'http://{s}.tile.cloudmade.com/BC9A493B41014CAABB98F0471D759707/997/256/{z}/{x}/{y}.png',
			cloudmadeAttribution = 'Map data &copy; 2011 OpenStreetMap contributors, Imagery &copy; 2011 CloudMade',
			cloudmade = new L.TileLayer(cloudmadeUrl, {maxZoom: 18, attribution: cloudmadeAttribution});

		map.setView(new L.LatLng(31.777, 35.225), 15).addLayer(layer);

		var geojsonLayer = new L.GeoJSON(null, {
		    pointToLayer: function (latlng){
		        return new L.CircleMarker(latlng, {
		            radius: 8,
		            fillColor: "#000",
		            color: "#000",
		            weight: 1,
		            opacity: 1,
		            fillOpacity: 0.8
		        });
		    }
		});

		var CafeRimon = {
    			"type": "Point",
        		"coordinates": [35.225, 31.777]
		};

		map.addLayer(geojsonLayer);

		geojsonLayer.addGeoJSON(CafeRimon);
	
		map.on('click', onMapClick);

		var popup = new L.Popup();

		function onMapClick(e) {
			var latlngStr = '(' + e.latlng.lat.toFixed(3) + ', ' + e.latlng.lng.toFixed(3) + ')';

			popup.setLatLng(e.latlng);
			popup.setContent("You clicked the map at " + latlngStr);
			map.openPopup(popup);
		}	

	</script>
</body>
</html>
