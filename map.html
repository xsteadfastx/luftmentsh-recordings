<!DOCTYPE html>
<html>
<head>
	<title>Jerusalem Recordings</title>
	<meta charset="utf-8" />

	<meta name="viewport" content="width=device-width, initial-scale=1.0">

	<link href='http://fonts.googleapis.com/css?family=Londrina+Sketch' rel='stylesheet' type='text/css'>
	<link rel="stylesheet" href="./leaflet.css" />
	<link rel="stylesheet" href="./main.css" />
	<!--[if lte IE 8]><link rel="stylesheet" href="../dist/leaflet.ie.css" /><![endif]-->
</head>
<body>
	<a href="http://github.com/xsteadfastx"><img style="position: absolute; top: 0; right: 0; border: 0; z-index: 300;" src="https://a248.e.akamai.net/assets.github.com/img/4c7dc970b89fd04b81c8e221ba88ff99a06c6b61/687474703a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f77686974655f6666666666662e706e67" alt="Fork me on GitHub"></a>

	<div id="desc">Jerusalem Recordings</div>
	
	<div id="map"></div>

	<script src="./leaflet.js"></script>
	<script type="text/javascript" src="./tile.stamen.js"></script>
	<script>
		var layer = new L.StamenTileLayer("watercolor");
		var map = new L.Map('map');

		var cloudmadeUrl = 'http://{s}.tile.cloudmade.com/BC9A493B41014CAABB98F0471D759707/997/256/{z}/{x}/{y}.png',
			cloudmadeAttribution = 'Map data &copy; 2011 OpenStreetMap contributors, Imagery &copy; 2011 CloudMade',
			cloudmade = new L.TileLayer(cloudmadeUrl, {maxZoom: 18, attribution: cloudmadeAttribution});

		map.setView(new L.LatLng(31.777, 35.225), 16).addLayer(layer);

		var geojsonLayer = new L.GeoJSON(null, {
		    pointToLayer: function (latlng){
		        return new L.CircleMarker(latlng, {
		            radius: 8,
		            fillColor: "#3366CC",
		            color: "#000",
		            weight: 2,
		            opacity: 1,
		            fillOpacity: 0.5
		        });
		    }
		});

		var CafeRimon = {
			"type": "FeatureCollection",
			"features": [
				{
					"geometry": {
    						"type": "Point",
        					"coordinates": [35.225, 31.777]
					},
					"type": "Feature",
					"properties": {
						"popupContent": "<object height='81' width='100%'> <param name='movie' value='https://player.soundcloud.com/player.swf?url=http%3A%2F%2Fapi.soundcloud.com%2Ftracks%2F33875090&amp;show_comments=false&amp;auto_play=false&amp;color=3366CC'></param> <param name='allowscriptaccess' value='always'></param> <embed allowscriptaccess='always' height='81' src='https://player.soundcloud.com/player.swf?url=http%3A%2F%2Fapi.soundcloud.com%2Ftracks%2F33875090&amp;show_comments=false&amp;auto_play=false&amp;color=3366CC' type='application/x-shockwave-flash' width='100%'></embed></object>"
					},
					"id": 51
				}
			]
		};

		var AsianChoir = {
			"type": "FeatureCollection",
                        "features": [
                                {
                                        "geometry": {
                                                "type": "Point",
                                                "coordinates": [35.2176736, 31.7814996]
                                        },
                                        "type": "Feature",
                                        "properties": {
                                                "popupContent": "<object height='81' width='100%'> <param name='movie' value='https://player.soundcloud.com/player.swf?url=http%3A%2F%2Fapi.soundcloud.com%2Ftracks%2F33875092&amp;show_comments=false&amp;auto_play=false&amp;color=3366CC'></param> <param name='allowscriptaccess' value='always'></param> <embed allowscriptaccess='always' height='81' src='https://player.soundcloud.com/player.swf?url=http%3A%2F%2Fapi.soundcloud.com%2Ftracks%2F33875092&amp;show_comments=false&amp;auto_play=false&amp;color=3366CC' type='application/x-shockwave-flash' width='100%'></embed> </object>"
                                        },
                                        "id": 52
                                }
                        ]
		};

		var BarMitzvah = {
			"type": "FeatureCollection",
                        "features": [
                                {
                                        "geometry": {
                                                "type": "Point",
                                                "coordinates": [35.23279, 31.77568]
                                        },
                                        "type": "Feature",
                                        "properties": {
                                                "popupContent": "<object height='81' width='100%'> <param name='movie' value='https://player.soundcloud.com/player.swf?url=http%3A%2F%2Fapi.soundcloud.com%2Ftracks%2F33875094%3Fsecret_token%3Ds-oBdvw&amp;show_comments=false&amp;auto_play=false&amp;color=3366CC'></param> <param name='allowscriptaccess' value='always'></param> <embed allowscriptaccess='always' height='81' src='https://player.soundcloud.com/player.swf?url=http%3A%2F%2Fapi.soundcloud.com%2Ftracks%2F33875094%3Fsecret_token%3Ds-oBdvw&amp;show_comments=false&amp;auto_play=false&amp;color=3366CC' type='application/x-shockwave-flash' width='100%'></embed> </object>"
                                        },
                                        "id": 53
                                }
                        ]
		};

		var GardenTomb = {
		"type": "FeatureCollection",
                        "features": [
                                {
                                        "geometry": {
                                                "type": "Point",
                                                "coordinates": [35.23036, 31.78368]
                                        },
                                        "type": "Feature",
                                        "properties": {
                                                "popupContent": "<object height='81' width='100%'> <param name='movie' value='https://player.soundcloud.com/player.swf?url=http%3A%2F%2Fapi.soundcloud.com%2Ftracks%2F33875093&amp;show_comments=false&amp;auto_play=false&amp;color=3366CC'></param> <param name='allowscriptaccess' value='always'></param> <embed allowscriptaccess='always' height='81' src='https://player.soundcloud.com/player.swf?url=http%3A%2F%2Fapi.soundcloud.com%2Ftracks%2F33875093&amp;show_comments=false&amp;auto_play=false&amp;color=3366CC' type='application/x-shockwave-flash' width='100%'></embed> </object>"

                                        },
                                        "id": 54
                                }
                        ]
		};

		var HolySepulchre = {
		"type": "FeatureCollection",
                        "features": [
                                {
                                        "geometry": {
                                                "type": "Point",
                                                "coordinates": [35.2297016, 31.7785195]
                                        },
                                        "type": "Feature",
                                        "properties": {
                                                "popupContent": "<object height='81' width='100%'> <param name='movie' value='https://player.soundcloud.com/player.swf?url=http%3A%2F%2Fapi.soundcloud.com%2Ftracks%2F33875103&amp;show_comments=false&amp;auto_play=false&amp;color=3366CC'></param> <param name='allowscriptaccess' value='always'></param> <embed allowscriptaccess='always' height='81' src='https://player.soundcloud.com/player.swf?url=http%3A%2F%2Fapi.soundcloud.com%2Ftracks%2F33875103&amp;show_comments=false&amp;auto_play=false&amp;color=3366CC' type='application/x-shockwave-flash' width='100%'></embed> </object>"

                                        },
                                        "id": 55
                                }
                        ]
		};

		var MehaneYehuda = {
    			"type": "Feature",
    			"geometry": {
        			"type": "LineString",
        			"coordinates": [
					[
						35.21272921551004,
						31.78578303319436
					],
					[
						35.21274616676217,
						31.785621996299074
					],
					[
						35.21276311801431,
						31.785388916582217
					],
					[
						35.212780069266444,
						31.78514312342626
					],
					[
						35.21279702051858,
						31.785028702474346
					],
					[
						35.21282244739678,
						31.784880379018166
					],
					[
						35.21284363646195,
						31.784757482440185
					],
					[
						35.21283939864892,
						31.784587969918835
					],
					[
						35.21287753896622,
						31.78442693302355
					],
					[
						35.21290720365745,
						31.78429979863254
					],
					[
						35.212962295226895,
						31.78415571298939
					],
					[
						35.21311485649611,
						31.783837877011855
					]
				]	

			},
			"properties": {
        			"style": {
					color: "#3366CC",
					weight: 6,
            				opacity: 0.5
        			},
        			"popupContent": "<object height='81' width='100%'> <param name='movie' value='https://player.soundcloud.com/player.swf?url=http%3A%2F%2Fapi.soundcloud.com%2Ftracks%2F33875098&amp;show_comments=false&amp;auto_play=false&amp;color=3366CC'></param> <param name='allowscriptaccess' value='always'></param> <embed allowscriptaccess='always' height='81' src='https://player.soundcloud.com/player.swf?url=http%3A%2F%2Fapi.soundcloud.com%2Ftracks%2F33875098&amp;show_comments=false&amp;auto_play=false&amp;color=3366CC' type='application/x-shockwave-flash' width='100%'></embed> </object>"
    			},
    			"id": 1
		};

		var JaffaToJewish = {
			"type": "Feature",
   			"geometry": {
    				"type": "LineString",
    				"coordinates": [
      					[
						35.227318, 
						31.776689
					],
					[
						35.227650, 
						31.776551
					],
					[
						35.227996, 
						31.776684
					],
					[
						35.228577, 
						31.776684
					],
					[
						35.231166, 
						31.776767
					],
					[
						35.231179, 
						31.776490
					],
					[
						35.231103, 
						31.776435
					],
					[
						35.231051, 
						31.776234
					],
					[
						35.231010, 
						31.775963
					],
					[
						35.230953, 
						31.775493
					],
					[
						35.230907, 
						31.775207
					],
					[
						35.230890, 
						31.774833
					]
     
    				]
   			},
			"properties": {
                                "style": {
                                        color: "#3366CC",
                                        weight: 6,
                                        opacity: 0.5
                                },
                                "popupContent": "<object height='81' width='100%'> <param name='movie' value='https://player.soundcloud.com/player.swf?url=http%3A%2F%2Fapi.soundcloud.com%2Ftracks%2F33875099&amp;show_comments=false&amp;auto_play=false&amp;color=3366CC'></param> <param name='allowscriptaccess' value='always'></param> <embed allowscriptaccess='always' height='81' src='https://player.soundcloud.com/player.swf?url=http%3A%2F%2Fapi.soundcloud.com%2Ftracks%2F33875099&amp;show_comments=false&amp;auto_play=false&amp;color=3366CC' type='application/x-shockwave-flash' width='100%'></embed> </object>"
                        },
                        "id": 2
		};

		var BenYehudaStreet = {
    			"type": "Feature",
    			"geometry": {
        			"type": "LineString",
        			"coordinates": [
					[
						35.22014302716046,
						31.781710949991986
					],
					[
						35.21970070292838,
						31.781999069445913
					],
					[
						35.219445047638274,
						31.781877328831577
					],
					[
						35.218734894054656,
						31.781710949991986
					],
					[
						35.217687924771376,
						31.78149993292714
					]

				]
			},
			"properties": {
        			"style": {
					color: "#3366CC",
					weight: 6,
            				opacity: 0.5
        			},
        			"popupContent": "<object height='81' width='100%'> <param name='movie' value='https://player.soundcloud.com/player.swf?url=http%3A%2F%2Fapi.soundcloud.com%2Ftracks%2F33875095&amp;show_comments=false&amp;auto_play=false&amp;color=3366CC'></param> <param name='allowscriptaccess' value='always'></param> <embed allowscriptaccess='always' height='81' src='https://player.soundcloud.com/player.swf?url=http%3A%2F%2Fapi.soundcloud.com%2Ftracks%2F33875095&amp;show_comments=false&amp;auto_play=false&amp;color=3366CC' type='application/x-shockwave-flash' width='100%'></embed> </object>"
    			},
    			"id": 3

		};

		map.addLayer(geojsonLayer);

		geojsonLayer.on("featureparse", function (e) {
   			if (e.properties && e.properties.popupContent){
        			e.layer.bindPopup(e.properties.popupContent);
    			}
			
		});

		geojsonLayer.on("featureparse", function (e){
    			if (e.properties && e.properties.style && e.layer.setStyle){
        			// The setStyle method isn't available for Points. More on that below ...
        			e.layer.setStyle(e.properties.style);
    			}
		});

		geojsonLayer.addGeoJSON(AsianChoir);
		geojsonLayer.addGeoJSON(BarMitzvah);
		geojsonLayer.addGeoJSON(CafeRimon);
		geojsonLayer.addGeoJSON(GardenTomb);
		geojsonLayer.addGeoJSON(HolySepulchre);
		geojsonLayer.addGeoJSON(MehaneYehuda);
		geojsonLayer.addGeoJSON(JaffaToJewish);
		geojsonLayer.addGeoJSON(BenYehudaStreet);
			
	</script>
</body>
</html>
